(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0a54f3"],{"09c7":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-my-xl row q-gutter-xs justify-center"},[a("q-card",{staticClass:"col-md-5 col-sm-5 col-xs-10 text-center"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("Alterar imagem")]),a("div",{staticClass:"text-subtitle2"},[t._v("Preencha o formulário para alterar a imagem de perfil")])]),a("croppa",{staticClass:"text-center cursor-pointer",attrs:{"canvas-color":"transparent","initial-image":t.link+t.image,width:300,height:400,quality:1,"prevent-white-space":"",placeholder:t.placeholder,"placeholder-font-size":14,"show-loading":!0,accept:".jpg, .png, .jpeg","file-size-limit":204800},on:{"file-type-mismatch":t.onFileTypeMismatch,"file-size-exceed":t.onFileSizeExceed,"new-image":t.generateImage},model:{value:t.myCroppa,callback:function(e){t.myCroppa=e},expression:"myCroppa"}},[t.myCroppa&&t.myCroppa.loading?a("div",{staticClass:"spinner"}):t._e()]),t.imgUrl||t.image?a("q-card-actions",{attrs:{align:"around"}},[t.myCroppa?a("q-btn",{attrs:{icon:"image_search",color:"primary"},nativeOn:{click:function(e){return t.generateImage(e)}}},[a("q-tooltip",[t._v("\n          Visualizar imagem\n        ")])],1):t._e(),t.imgUrl?a("q-btn",{attrs:{icon:"cloud_upload",color:"positive"},nativeOn:{click:function(e){return t.upload(e)}}},[a("q-tooltip",[t._v("\n           Salvar imagem\n        ")])],1):t._e(),a("q-btn",{attrs:{icon:"rotate_90_degrees_ccw"},nativeOn:{click:function(e){return t.rotate(e)}}},[a("q-tooltip",[t._v("\n          Rotacionar a imagem 90º\n        ")])],1),a("q-btn",{attrs:{icon:"swap_horiz"},nativeOn:{click:function(e){return t.flipX(e)}}},[a("q-tooltip",[t._v("\n          Inverter horizontalmente\n        ")])],1),a("q-btn",{attrs:{icon:"swap_vert"},nativeOn:{click:function(e){return t.flipY(e)}}},[a("q-tooltip",[t._v("\n          Inverter verticalmente\n        ")])],1),a("q-btn",{attrs:{icon:"zoom_in"},nativeOn:{click:function(e){return t.zoomIn(e)}}},[a("q-tooltip",[t._v("\n          Diminuir zoom\n        ")])],1),a("q-btn",{attrs:{icon:"zoom_out"},nativeOn:{click:function(e){return t.zoomOut(e)}}},[a("q-tooltip",[t._v("\n          Aumentar zoom\n        ")])],1)],1):t._e()],1),a("q-card",{staticClass:"col-md-5 col-sm-5 col-xs-10"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("Pré visualização da imagem")]),a("div",{staticClass:"text-subtitle2"},[t._v("Aqui você pode ver como a imagem ficará!")]),a("div",{staticClass:"size"},[t._v("Tamanho da imagem: "+t._s(t.imgUrl.length/1e3)+" Kb")]),a("q-img",{staticClass:"q-mx-auto",attrs:{src:t.imgUrl?t.imgUrl:t.link+t.image}},[a("div",{staticClass:"absolute-bottom text-subtitle1 text-center q-pa-xs"},[t._v("\n          Visualização "+t._s(t.imgUrl.lenght)+"\n        ")])])],1)],1)],1)},n=[],o=a("3156"),r=a.n(o),c=a("2f62"),l={name:"ChangeImage",data:function(){return{myCroppa:null,imgUrl:"",removeImg:!1,image:null,link:"https://saldo.ellalves.net.br/storage/profiles/"}},created:function(){this.image=this.me.image},montado:function(){document.addEventListener("deviceready",this.onDeviceReady,!1)},computed:r()({},Object(c["d"])("auth",["me"]),{placeholder:function(){return this.myCroppa&&this.myCroppa.loading?"":"Escolha uma imagem de perfil!"}}),methods:r()({onFileTypeMismatch:function(t){alert("Tipo de arquivo inválido. Por favor, escolha um arquivo jpeg ou png.")},onFileSizeExceed:function(t){alert("Tamanho do arquivo excedido. Por favor, escolha um arquivo menor que 200kb.")},rotate:function(){this.myCroppa.rotate()},flipX:function(){this.myCroppa.flipX()},flipY:function(){this.myCroppa.flipY()},zoomIn:function(){this.myCroppa.zoomIn()},zoomOut:function(){this.myCroppa.zoomOut()},generateImage:function(){var t=this.myCroppa.generateDataUrl();if(!t)return alert("no image"),!1;this.imgUrl=t}},Object(c["b"])("auth",["changeImage"]),{upload:function(){var t=this;if(!this.myCroppa.hasImage())return alert("no image to upload"),!1;this.myCroppa.generateBlob(function(e){var a=new FormData;a.append("image",e,t.me.document+".png"),a.append("id",t.me.id),t.changeImage(a).then(function(e){t.$q.notify({message:e.message,color:"green-10",position:"center",icon:"done_outline",timeout:5e3*Math.random()+3e3})})})}})},s=l,m=a("2877"),p=Object(m["a"])(s,i,n,!1,null,null,null);e["default"]=p.exports}}]);