(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["1d1001b4"],{"2f9a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",[a("q-header",{staticClass:"gutter-none",model:{value:e.header,callback:function(t){e.header=t},expression:"header"}},[a("q-toolbar",{staticClass:"row q-pr-sm col-12",attrs:{color:"blue-5"}},[a("q-toolbar-title",{attrs:{to:{name:"home"}}},[a("q-btn",{attrs:{flat:"",push:"",type:"a",href:"/"}},[e._v("Meu Saldo")]),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n          Sistema de saldos\n        ")])],1),a("q-space"),e.isLogged?a("div",[e.can("deposit")||e.can("transfer")||e.can("withdraw")?a("q-btn-dropdown",{attrs:{flat:"",label:e.balance.amount?"R$ "+e.balance.amount:"0,00"}},[a("q-list",[e.can("deposit")?a("q-item",{directives:[{name:"close-menu",rawName:"v-close-menu"}],attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"account_balance_wallet",color:"positive","text-color":"white"}})],1),a("q-item-section",{nativeOn:{click:function(t){e.mBalance=!0}}},[a("q-item-label",[e._v("Depósito ")])],1)],1):e._e(),e.can("transfer")?a("q-item",{directives:[{name:"close-menu",rawName:"v-close-menu"}],attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"swap_horiz",color:"warning","text-color":"white"}})],1),a("q-item-section",{nativeOn:{click:function(t){e.mTransfer=!0}}},[a("q-item-label",[e._v("Transferência")])],1)],1):e._e(),e.can("withdraw")?a("q-item",{directives:[{name:"close-menu",rawName:"v-close-menu"}],attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"account_balance",color:"negative","text-color":"white"}})],1),a("q-item-section",{on:{click:function(t){e.mWithDraw=!0}}},[a("q-item-label",[e._v("Saque")])],1)],1):e._e()],1)],1):e._e(),a("q-btn",{attrs:{flat:"",round:""}},[a("q-avatar",{attrs:{size:"42px"}},[a("img",{attrs:{src:["https://saldo.ellalves.net.br/storage/profiles/"]+e.me.image}})]),a("q-menu",{attrs:{"transition-show":"jump-down","transition-hide":"jump-up"}},[a("div",{staticClass:"row no-wrap q-pa-md"},[a("div",{staticClass:"column"},[a("q-list",[a("q-item",{attrs:{to:{name:"dashboard"}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"dashboard"}})],1),a("q-item-section",[a("q-item-label",[e._v("Painel")])],1)],1),a("q-item",{attrs:{to:{name:"my-profile"}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"perm_identity"}})],1),a("q-item-section",[a("q-item-label",[e._v("Meu perfil")])],1)],1),a("q-item",{attrs:{to:{name:"change-password"}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"security"}})],1),a("q-item-section",[a("q-item-label",[e._v("Alterar senha")])],1)],1)],1)],1),a("q-separator",{staticClass:"q-mx-lg",attrs:{vertical:"",inset:""}}),a("div",{staticClass:"column items-center"},[a("q-btn",{attrs:{flat:"",to:{name:"change-image"}}},[a("menu-image",{attrs:{user:e.me}})],1),a("div",{staticClass:"text-subtitle1 q-mt-md q-mb-xs"},[e._v(e._s(e.me.name))]),a("q-btn",{attrs:{color:"red",icon:"exit_to_app",label:"Sair",push:"",size:"sm"},nativeOn:{click:function(t){return e.logoutUser(t)}}})],1)],1)])],1)],1):a("q-btn",{attrs:{flat:"",dense:"",icon:"person",to:{name:"login"}}})],1)],1),e.can("deposit")?a("q-dialog",{model:{value:e.mBalance,callback:function(t){e.mBalance=t},expression:"mBalance"}},[a("q-card",{staticStyle:{width:"700px","max-width":"80vw"},attrs:{color:"grey-1"}},[a("q-card-section",{staticClass:"row items-center"},[a("div",{staticClass:"text-h6"},[e._v("Fazer Depósito")]),a("q-space"),a("q-btn",{directives:[{name:"close-dialog",rawName:"v-close-dialog"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("q-card-section",[a("deposit-form",{attrs:{deposit:e.depositForm},on:{reset:e.resetForm}})],1)],1)],1):e._e(),e.can("transfer")?a("q-dialog",{model:{value:e.mTransfer,callback:function(t){e.mTransfer=t},expression:"mTransfer"}},[a("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[a("q-card-section",{staticClass:"row items-center"},[a("div",{staticClass:"text-h6"},[e._v("Fazer Transferência")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("q-card-section",[a("transference-form",{attrs:{transference:e.transferenceForm},on:{reset:e.resetForm}})],1)],1)],1):e._e(),e.can("withdraw")?a("q-dialog",{model:{value:e.mWithDraw,callback:function(t){e.mWithDraw=t},expression:"mWithDraw"}},[a("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[a("q-card-section",{staticClass:"row items-center"},[a("div",{staticClass:"text-h6"},[e._v("Fazer Saque")]),a("q-space"),a("q-btn",{directives:[{name:"close-dialog",rawName:"v-close-dialog"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("q-card-section",[a("with-draw-form",{attrs:{withdraw:e.withdrawForm},on:{reset:e.resetForm}})],1)],1)],1):e._e(),a("q-page-container",[a("router-view")],1),a("q-footer",{model:{value:e.footer,callback:function(t){e.footer=t},expression:"footer"}},[a("q-toolbar",[e._v("\n      Todos os direitos reservados a WebXpertise\n    ")])],1)],1)},r=[],s=a("3156"),o=a.n(s),i=a("2f62"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[e.message?a("p",{staticClass:"text-success"},[a("strong",[e._v(e._s(e.message))])]):e._e(),e.billet.id?a("div",[a("q-btn",{attrs:{outline:"",rounded:"",color:"primary",type:"a",target:"_blank",label:"Efetuar pagamento",href:"https://saldo.ellalves.net.br/boleto/"+e.billet.id}})],1):e._e(),e.errors.amount?a("div",[e._v(e._s(e.errors.amount[0]))]):e._e(),a("q-input",{attrs:{type:"number",min:"0",step:"10",label:"Valor (em reais)",dense:!1},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"local_atm"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){e.deposit.amount=""}}})]},proxy:!0}]),model:{value:e.deposit.amount,callback:function(t){e.$set(e.deposit,"amount",t)},expression:"deposit.amount"}},[a("q-tooltip",[e._v("\n        Quanto você quer deposistar?\n      ")])],1),a("q-btn",{staticClass:"q-mt-md",attrs:{color:"primary",icon:"account_balance_wallet",label:"Depositar"},nativeOn:{click:function(t){return e.generateBillet(t)}}})],1)])},l=[],u={props:{deposit:{type:Object,required:!1,default:function(){}}},data:function(){return{errors:{},message:"",billet:{}}},computed:{user:function(){return this.$store.state.auth.me},amount:function(){return this.$store.state.balances.balance.amount}},methods:o()({},Object(i["b"])("balances",["loadUserBalance"]),Object(i["b"])("billets",["ticket"]),{generateBillet:function(){var e=this;this.billet.payer=this.user.id,this.billet.receiver=this.user.receiver,this.billet.deposit_id=1e5,this.billet.wallet=11,this.billet.agreement=123456,this.billet.price=this.deposit.amount,this.billet.before_amount=this.amount?this.amount:"0.00",this.ticket(this.billet).then(function(t){e.$q.notify({message:"Boleto gerado com sucesso. O pagamento será confirmado três dias após o pagemento!",color:"green-10",position:"center",icon:"done_outline",timeout:5e3*Math.random()+3e3}),e.billet=t.data,e.reset()}).catch(function(t){e.$q.notify({message:t.data,color:"red-10",position:"center",icon:"error_outline",timeout:5e3*Math.random()+3e3})}),this.billet.id=1},reset:function(){this.errors={},this.deposit.amount="",this.$emit("resetForm")}})},d=u,m=a("2877"),p=Object(m["a"])(d,c,l,!1,null,null,null),h=p.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[e.user.name?a("div",[a("q-card",{staticClass:"my-card"},[a("q-card-section",[a("q-btn",{staticClass:"float-right",attrs:{flat:"",rounded:"",color:"negative",label:"Limpar dados",icon:"clear"},nativeOn:{click:function(t){return e.resetSearch(t)}}}),a("div",{staticClass:"text-h6"},[e._v("Você está TRANSFERINDO para:")]),a("div",{staticClass:"text-subtitle2"},[e._v("Destinatário: "+e._s(e.user.name))]),a("div",{staticClass:"text-subtitle2"},[e._v("\n          "+e._s(e.user.type)+": "+e._s(e.user.document.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1 ****** $4"))+"\n        ")])],1)],1),e.errors.amount?a("div",[e._v(e._s(e.errors.amount[0]))]):e._e(),a("q-input",{attrs:{type:"number",min:"0",step:"10",label:"Valor (em reais)",dense:!1},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onTransference(t)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"local_atm"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){e.transference.amount=""}}})]},proxy:!0}],null,!1,3539480846),model:{value:e.transference.amount,callback:function(t){e.$set(e.transference,"amount",t)},expression:"transference.amount"}},[a("q-tooltip",[e._v("\n        Quanto você quer transferir?\n      ")])],1),a("q-btn",{staticClass:"q-mt-md",attrs:{color:"negative",icon:"swap_horiz",label:"Transferir"},nativeOn:{click:function(t){return e.onTransference(t)}}})],1):a("q-input",{attrs:{title:"Digite um e-mail, CPF ou CNPJ",loading:e.loadingState,filled:"",label:"Para quem você quer transferir?"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchUser(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"search",title:"clique para procurar"},on:{click:function(t){return t.preventDefault(),e.searchUser(t)}}})]},proxy:!0}]),model:{value:e.transference.sender,callback:function(t){e.$set(e.transference,"sender",t)},expression:"transference.sender"}}),e.errors.sender?a("div",{staticClass:"text-red"},[e._v(e._s(e.errors.sender[0]))]):e._e()],1)},b=[],v={props:{transference:{required:!1,type:Object}},data:function(){return{loadingState:!1,user:{},message:"",errors:{}}},methods:o()({},Object(i["b"])("balances",["confirmTransference"]),{searchUser:function(){var e=this;this.reset(),this.confirmTransference(this.transference.sender).then(function(t){e.user=t,e.transference.sender_id=t.id}).catch(function(t){e.errors=t.data.errors})}},Object(i["b"])("balances",["saveTransference"]),Object(i["b"])("balances",["loadUserBalance"]),{onTransference:function(){var e=this;this.transference.amount=this.transference.amount,this.saveTransference(this.transference).then(function(t){e.message=t.message,e.$q.notify({message:t.message,color:"green-10",position:"center",icon:"done_outline",timeout:5e3*Math.random()+3e3}),e.reset(),e.loadUserBalance({user_id:t.data.user_id})}).catch(function(t){e.$q.notify({message:t.response.data.message,color:"red-10",position:"center",icon:"error_outline",timeout:5e3*Math.random()+3e3}),e.errors=t.errors})},reset:function(){this.errors={},this.transference.amount="",this.$root.$emit("resetForm")},resetSearch:function(){this.user={},this.reset()}})},q=v,_=Object(m["a"])(q,f,b,!1,null,null,null),w=_.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("q-card",{staticClass:"my-card"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v(e._s(e.options.bank.name)+" *")]),a("div",{staticClass:"text-subtitle2"},[e._v("Agência: "+e._s(e.options.agency)),e.options.agency_vd?a("span",[e._v("-"+e._s(e.options.agency_vd))]):e._e()]),a("div",{staticClass:"text-subtitle2"},[e._v("Conta: "+e._s(e.options.number)),e.options.vd?a("span",[e._v("-"+e._s(e.options.vd))]):e._e()]),a("span",{staticClass:"text-caption"},[e._v("(*) Sua conta favorita para alterar clique aqui")])])],1),e.errors.amount?a("div",[e._v(e._s(e.errors.amount[0]))]):e._e(),a("q-input",{attrs:{type:"number",min:"0",step:"10",label:"Valor (em reais)",dense:!1},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"local_atm"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){e.withdraw.amount=""}}})]},proxy:!0}]),model:{value:e.withdraw.amount,callback:function(t){e.$set(e.withdraw,"amount",t)},expression:"withdraw.amount"}},[a("q-tooltip",[e._v("\n        Quanto você quer sacar?\n      ")])],1),a("q-btn",{staticClass:"q-mt-md",attrs:{color:"negative",icon:"account_balance",label:"Sacar"},nativeOn:{click:function(t){return e.onWithDraw(t)}}})],1)])},y=[],k={props:{withdraw:{required:!1,type:Object}},computed:o()({},Object(i["d"])("auth",["me"])),data:function(){return{options:{bank:{name:"Banco"}},message:"",errors:{}}},created:function(){this.listAccounts()},methods:o()({},Object(i["b"])("balances",["saveWithdraw"]),Object(i["b"])("balances",["loadUserBalance"]),{onWithDraw:function(){var e=this;this.withdraw.amount=this.withdraw.amount,this.withdraw.sender_id=this.me.id,this.withdraw.account_id=this.options.id,console.log("saque",this.withdraw),this.saveWithdraw(this.withdraw).then(function(t){e.message=t.message,e.$q.notify({message:t.message,color:"green-10",position:"center",icon:"done_outline",timeout:5e3*Math.random()+3e3}),e.loadUserBalance({user_id:t.data.user_id})}).catch(function(t){e.errors=t.data.errors.amount[0],console.log("erro",e.errors),e.$q.notify({message:e.errors,color:"red-10",position:"center",icon:"error_outline",timeout:5e3*Math.random()+3e3})})}},Object(i["b"])("accounts",["loadAccounts"]),{listAccounts:function(){var e=this;this.loadAccounts({user_id:this.me.id,main:1}).then(function(t){e.options=t.data[0]})},reset:function(){this.errors={},this.withdraw.amount="",this.$emit("resetForm")}})},x=k,C=Object(m["a"])(x,g,y,!1,null,null,null),O=C.exports,j=a("db1d"),$=a("18d6"),F={created:function(){this.loggedIn()},data:function(){return{mBalance:!1,mTransfer:!1,mWithDraw:!1,depositForm:{},transferenceForm:{sender:"",sender_id:0},withdrawForm:{},header:!0,footer:!0}},computed:o()({},Object(i["c"])("auth",["isLogged"]),Object(i["c"])("auth",["token"]),Object(i["d"])("auth",["LOAD_USER"]),Object(i["d"])("balances",["balance"]),Object(i["d"])("auth",["me"])),methods:o()({checkFileSize:function(e){return e.filter(function(e){return e.size<2048})}},Object(i["b"])("balances",["loadUserBalance"]),{userBalance:function(){this.loadUserBalance({user_id:this.me.id})}},Object(i["b"])("auth",["logout"]),{logoutUser:function(){this.logout(),this.$router.push({name:"login"})}},Object(i["b"])("auth",["checkLogin"]),{loggedIn:function(){var e=this;null!=$["a"].getItem("TOKEN_AUTH")&&this.checkLogin().then(function(){e.userBalance()}).catch(function(){e.logoutUser(),e.$router.push({name:"login"})})},resetForm:function(){this.depositForm={},this.transferenceForm={},this.withdrawForm={}}}),components:{DepositForm:h,TransferenceForm:w,WithDrawForm:O,MenuImage:j["a"]}},S=F,T=Object(m["a"])(S,n,r,!1,null,null,null);t["default"]=T.exports},db1d:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-avatar",{attrs:{size:"72px"}},[e.user.image?a("img",{attrs:{src:["https://saldo.ellalves.net.br/storage/profiles/"]+e.user.image}}):e._e(),a("q-tooltip",[e._v("\n      Clique para alterar a imagem\n    ")])],1)},r=[],s={props:{user:{type:Object,required:!0}},data:function(){return{mPhoto:!1}},methods:{}},o=s,i=a("2877"),c=Object(i["a"])(o,n,r,!1,null,null,null);t["a"]=c.exports}}]);